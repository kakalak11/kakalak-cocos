{"version":3,"sources":["../../../../../../assets/Registration-form/build/web-desktop/assets/Registration-form/build/web-desktop/main.js"],"names":["BK","Script","loadlib","window","boot","settings","_CCSettings","undefined","debug","uuids","rawAssets","assetTypes","realRawAssets","mount","entries","realEntries","id","entry","type","scenes","i","length","scene","uuid","packedAssets","packId","packedIds","j","subpackages","subId","uuidArray","k","l","setLoadingDisplay","splash","document","getElementById","progressBar","querySelector","cc","loader","onProgress","completedCount","totalCount","item","percent","style","width","toFixed","display","director","once","Director","EVENT_AFTER_SCENE_LAUNCH","onStart","downloader","_subpackages","view","enableRetina","resizeWithBrowserSize","sys","isBrowser","isMobile","orientation","setOrientation","macro","ORIENTATION_LANDSCAPE","ORIENTATION_PORTRAIT","enableAutoFullScreen","BROWSER_TYPE_BAIDU","BROWSER_TYPE_WECHAT","BROWSER_TYPE_MOBILE_QQ","BROWSER_TYPE_MIUI","indexOf","browserType","os","OS_ANDROID","DOWNLOAD_MAX_CONCURRENT","loadScene","launchScene","err","canvas","visibility","div","backgroundImage","console","log","CC_BUILD","setTimeout","jsList","bundledScript","map","x","push","option","debugMode","DebugMode","INFO","ERROR","showFPS","frameRate","groupList","collisionMatrix","AssetLibrary","init","libraryPath","rawAssetsBase","md5AssetsMap","game","run","ORIENTATIONS","screenMode","initAdapter","EVENT_ENGINE_INITED","initRendererAdapter","qqPlayDownloader","REMOTE_SERVER_ROOT","prevPipe","md5Pipe","assetLoader","insertPipeAfter","jsb","isRuntime","loadRuntime","require","CLEANUP_IMAGE_CACHE"],"mappings":"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","file":"main.js","sourceRoot":"../../../../../../assets/Registration-form/build/web-desktop","sourcesContent":["// QQPlay window need to be inited first\nif (false) {\n    BK.Script.loadlib('GameRes://libs/qqplay-adapter.js');\n}\n\nwindow.boot = function () {\n    var settings = window._CCSettings;\n    window._CCSettings = undefined;\n\n    if ( !settings.debug ) {\n        var uuids = settings.uuids;\n\n        var rawAssets = settings.rawAssets;\n        var assetTypes = settings.assetTypes;\n        var realRawAssets = settings.rawAssets = {};\n        for (var mount in rawAssets) {\n            var entries = rawAssets[mount];\n            var realEntries = realRawAssets[mount] = {};\n            for (var id in entries) {\n                var entry = entries[id];\n                var type = entry[1];\n                // retrieve minified raw asset\n                if (typeof type === 'number') {\n                    entry[1] = assetTypes[type];\n                }\n                // retrieve uuid\n                realEntries[uuids[id] || id] = entry;\n            }\n        }\n\n        var scenes = settings.scenes;\n        for (var i = 0; i < scenes.length; ++i) {\n            var scene = scenes[i];\n            if (typeof scene.uuid === 'number') {\n                scene.uuid = uuids[scene.uuid];\n            }\n        }\n\n        var packedAssets = settings.packedAssets;\n        for (var packId in packedAssets) {\n            var packedIds = packedAssets[packId];\n            for (var j = 0; j < packedIds.length; ++j) {\n                if (typeof packedIds[j] === 'number') {\n                    packedIds[j] = uuids[packedIds[j]];\n                }\n            }\n        }\n\n        var subpackages = settings.subpackages;\n        for (var subId in subpackages) {\n            var uuidArray = subpackages[subId].uuids;\n            if (uuidArray) {\n                for (var k = 0, l = uuidArray.length; k < l; k++) {\n                    if (typeof uuidArray[k] === 'number') {\n                        uuidArray[k] = uuids[uuidArray[k]];\n                    }\n                }\n            }\n        }\n    }\n\n    function setLoadingDisplay () {\n        // Loading splash scene\n        var splash = document.getElementById('splash');\n        var progressBar = splash.querySelector('.progress-bar span');\n        cc.loader.onProgress = function (completedCount, totalCount, item) {\n            var percent = 100 * completedCount / totalCount;\n            if (progressBar) {\n                progressBar.style.width = percent.toFixed(2) + '%';\n            }\n        };\n        splash.style.display = 'block';\n        progressBar.style.width = '0%';\n\n        cc.director.once(cc.Director.EVENT_AFTER_SCENE_LAUNCH, function () {\n            splash.style.display = 'none';\n        });\n    }\n\n    var onStart = function () {\n        cc.loader.downloader._subpackages = settings.subpackages;\n\n        cc.view.enableRetina(true);\n        cc.view.resizeWithBrowserSize(true);\n\n        if (!false && !false) {\n            if (cc.sys.isBrowser) {\n                setLoadingDisplay();\n            }\n\n            if (cc.sys.isMobile) {\n                if (settings.orientation === 'landscape') {\n                    cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE);\n                }\n                else if (settings.orientation === 'portrait') {\n                    cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT);\n                }\n                cc.view.enableAutoFullScreen([\n                    cc.sys.BROWSER_TYPE_BAIDU,\n                    cc.sys.BROWSER_TYPE_WECHAT,\n                    cc.sys.BROWSER_TYPE_MOBILE_QQ,\n                    cc.sys.BROWSER_TYPE_MIUI,\n                ].indexOf(cc.sys.browserType) < 0);\n            }\n\n            // Limit downloading max concurrent task to 2,\n            // more tasks simultaneously may cause performance draw back on some android system / browsers.\n            // You can adjust the number based on your own test result, you have to set it before any loading process to take effect.\n            if (cc.sys.isBrowser && cc.sys.os === cc.sys.OS_ANDROID) {\n                cc.macro.DOWNLOAD_MAX_CONCURRENT = 2;\n            }\n        }\n\n        function loadScene(launchScene) {\n            cc.director.loadScene(launchScene,\n                function (err) {\n                    if (!err) {\n                        if (cc.sys.isBrowser) {\n                            // show canvas\n                            var canvas = document.getElementById('GameCanvas');\n                            canvas.style.visibility = '';\n                            var div = document.getElementById('GameDiv');\n                            if (div) {\n                                div.style.backgroundImage = '';\n                            }\n                        }\n                        cc.loader.onProgress = null;\n                        console.log('Success to load scene: ' + launchScene);\n                    }\n                    else if (CC_BUILD) {\n                        setTimeout(function () {\n                            loadScene(launchScene);\n                        }, 1000);\n                    }\n                }\n            );\n\n        }\n\n        var launchScene = settings.launchScene;\n\n        // load scene\n        loadScene(launchScene);\n\n    };\n\n    // jsList\n    var jsList = settings.jsList;\n\n    if (false) {\n        BK.Script.loadlib();\n    }\n    else {\n        var bundledScript = settings.debug ? 'src/project.dev.js' : 'src/project.js';\n        if (jsList) {\n            jsList = jsList.map(function (x) {\n                return 'src/' + x;\n            });\n            jsList.push(bundledScript);\n        }\n        else {\n            jsList = [bundledScript];\n        }\n    }\n    \n    var option = {\n        id: 'GameCanvas',\n        scenes: settings.scenes,\n        debugMode: settings.debug ? cc.debug.DebugMode.INFO : cc.debug.DebugMode.ERROR,\n        showFPS: !false && settings.debug,\n        frameRate: 60,\n        jsList: jsList,\n        groupList: settings.groupList,\n        collisionMatrix: settings.collisionMatrix,\n    }\n\n    // init assets\n    cc.AssetLibrary.init({\n        libraryPath: 'res/import',\n        rawAssetsBase: 'res/raw-',\n        rawAssets: settings.rawAssets,\n        packedAssets: settings.packedAssets,\n        md5AssetsMap: settings.md5AssetsMap,\n        subpackages: settings.subpackages\n    });\n\n    cc.game.run(option, onStart);\n};\n\n// main.js is qqplay and jsb platform entry file, so we must leave platform init code here\nif (false) {\n    BK.Script.loadlib('GameRes://src/settings.js');\n    BK.Script.loadlib();\n    BK.Script.loadlib('GameRes://libs/qqplay-downloader.js');\n\n    var ORIENTATIONS = {\n        'portrait': 1,\n        'landscape left': 2,\n        'landscape right': 3\n    };\n    BK.Director.screenMode = ORIENTATIONS[window._CCSettings.orientation];\n    initAdapter();\n    cc.game.once(cc.game.EVENT_ENGINE_INITED, function () {\n        initRendererAdapter();\n    });\n\n    qqPlayDownloader.REMOTE_SERVER_ROOT = \"\";\n    var prevPipe = cc.loader.md5Pipe || cc.loader.assetLoader;\n    cc.loader.insertPipeAfter(prevPipe, qqPlayDownloader);\n    \n    window.boot();\n}\nelse if (window.jsb) {\n\n    var isRuntime = (typeof loadRuntime === 'function');\n    if (isRuntime) {\n        require('src/settings.js');\n        require('src/cocos2d-runtime.js');\n        require('jsb-adapter/engine/index.js');\n    }\n    else {\n        require('src/settings.js');\n        require('src/cocos2d-jsb.js');\n        require('jsb-adapter/jsb-engine.js');\n    }\n\n    cc.macro.CLEANUP_IMAGE_CACHE = true;\n    window.boot();\n}"]}