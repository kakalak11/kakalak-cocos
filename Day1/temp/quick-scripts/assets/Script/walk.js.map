{"version":3,"sources":["walk.js"],"names":["cc","Class","extends","Component","properties","leftButton","Button","rightButton","jumpButton","speed","default","serializable","moveLeft","moveRight","jump","rotateSpeed","type","Float","counter","fps","canClick","onClickLeft","log","_disableButton","onClickRight","onClickJump","interactable","_enableButton","_moveLeft","node","x","_jump","y","angle","_moveRight","onLoad","start","update","dt"],"mappings":"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","file":"walk.js","sourceRoot":"../../../../assets/Script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n        leftButton: cc.Button,\n        rightButton: cc.Button,\n        jumpButton: cc.Button,\n\n        speed: {\n            default: 2,\n            serializable: false,\n        },\n        moveLeft: {\n            default: false,\n        },\n        moveRight: {\n            default: false,\n        },\n        jump: {\n            default: false,\n        },\n        rotateSpeed: {\n            default: 6,\n            type: cc.Float,\n        },\n        counter: {\n            default: 0,\n        },\n        fps: {\n            default: 60,\n        },\n        canClick: {\n            default: true,\n        },\n    },\n\n    onClickLeft: function () {\n        cc.log('move left');\n        this.moveLeft = true;\n        this._disableButton();\n    },\n\n    onClickRight: function () {\n        cc.log('move right');\n        this.moveRight = true;\n        this._disableButton();\n    },\n\n    onClickJump: function () {\n        cc.log('jump');\n        this.jump = true;\n        this._disableButton();\n    },\n\n\n    _disableButton: function () {\n        this.leftButton.interactable = false;\n        this.rightButton.interactable = false;\n        this.jumpButton.interactable = false;\n    },\n\n    _enableButton: function () {\n        this.leftButton.interactable = true;\n        this.rightButton.interactable = true;\n        this.jumpButton.interactable = true;\n    },\n\n    _moveLeft: function () {\n        this.node.x -= this.speed;\n        this.counter++;\n        if (this.counter >= this.fps) {\n            this.counter = 0;\n            this.moveLeft = false;\n            this._enableButton();\n        }\n    },\n\n    _jump: function () {\n        this.node.y += this.speed;\n        this.counter++;\n        if (this.counter >= this.fps / 4) {\n            this.node.y -= this.speed;\n            this.node.angle += 12;\n        }\n        if (this.counter >= this.fps / 4 * 3) {\n            this.node.y -= this.speed;\n            this.node.angle -= 12;\n        }\n        if (this.counter >= this.fps) {\n            this.counter = 0;\n            this.jump = false;\n            this._enableButton();\n        }\n    },\n\n    _moveRight: function () {\n        this.node.x += this.speed;\n        this.counter++;\n        if (this.counter >= this.fps) {\n            this.counter = 0;\n            this.moveRight = false;\n            this._enableButton();\n        }\n    },\n\n    onLoad: function () {\n        cc.log('onload');\n        cc.log(this);\n    },\n\n    start() {\n\n    },\n\n    update(dt) {\n        if (this.jump) {\n            this._jump();\n        }\n        if (this.moveLeft) {\n            this._moveLeft();\n        }\n        if (this.moveRight) {\n            this._moveRight();\n        }\n    },\n});\n"]}