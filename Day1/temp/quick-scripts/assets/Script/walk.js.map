{"version":3,"sources":["walk.js"],"names":["cc","Class","extends","Component","properties","leftButton","Button","rightButton","jumpButton","speed","default","serializable","moveLeft","moveRight","jump","rotateSpeed","type","Float","counter","fps","canClick","onClickLeft","log","_disableButton","onClickRight","onClickJump","interactable","_enableButton","_moveLeft","node","x","_jump","y","angle","_moveRight","onLoad","start","update","dt"],"mappings":"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","file":"walk.js","sourceRoot":"..\\..\\..\\..\\assets\\Script","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n\r\n        leftButton: cc.Button,\r\n        rightButton: cc.Button,\r\n        jumpButton: cc.Button,\r\n\r\n        speed: {\r\n            default: 2,\r\n            serializable: false,\r\n        },\r\n        moveLeft: {\r\n            default: false,\r\n        },\r\n        moveRight: {\r\n            default: false,\r\n        },\r\n        jump: {\r\n            default: false,\r\n        },\r\n        rotateSpeed: {\r\n            default: 6,\r\n            type: cc.Float,\r\n        },\r\n        counter: {\r\n            default: 0,\r\n        },\r\n        fps: {\r\n            default: 60,\r\n        },\r\n        canClick: {\r\n            default: true,\r\n        },\r\n    },\r\n\r\n    onClickLeft: function () {\r\n        cc.log('move left');\r\n        this.moveLeft = true;\r\n        this._disableButton();\r\n    },\r\n\r\n    onClickRight: function () {\r\n        cc.log('move right');\r\n        this.moveRight = true;\r\n        this._disableButton();\r\n    },\r\n\r\n    onClickJump: function () {\r\n        cc.log('jump');\r\n        this.jump = true;\r\n        this._disableButton();\r\n    },\r\n\r\n\r\n    _disableButton: function () {\r\n        this.leftButton.interactable = false;\r\n        this.rightButton.interactable = false;\r\n        this.jumpButton.interactable = false;\r\n    },\r\n\r\n    _enableButton: function () {\r\n        this.leftButton.interactable = true;\r\n        this.rightButton.interactable = true;\r\n        this.jumpButton.interactable = true;\r\n    },\r\n\r\n    _moveLeft: function () {\r\n        this.node.x -= this.speed;\r\n        this.counter++;\r\n        if (this.counter >= this.fps) {\r\n            this.counter = 0;\r\n            this.moveLeft = false;\r\n            this._enableButton();\r\n        }\r\n    },\r\n\r\n    _jump: function () {\r\n        this.node.y += this.speed;\r\n        this.counter++;\r\n        if (this.counter >= this.fps / 4) {\r\n            this.node.y -= this.speed;\r\n            this.node.angle += 12;\r\n        }\r\n        if (this.counter >= this.fps / 4 * 3) {\r\n            this.node.y -= this.speed;\r\n            this.node.angle -= 12;\r\n        }\r\n        if (this.counter >= this.fps) {\r\n            this.counter = 0;\r\n            this.jump = false;\r\n            this._enableButton();\r\n        }\r\n    },\r\n\r\n    _moveRight: function () {\r\n        this.node.x += this.speed;\r\n        this.counter++;\r\n        if (this.counter >= this.fps) {\r\n            this.counter = 0;\r\n            this.moveRight = false;\r\n            this._enableButton();\r\n        }\r\n    },\r\n\r\n    onLoad: function () {\r\n        cc.log('onload');\r\n        cc.log(this);\r\n    },\r\n\r\n    start() {\r\n\r\n    },\r\n\r\n    update(dt) {\r\n        if (this.jump) {\r\n            this._jump();\r\n        }\r\n        if (this.moveLeft) {\r\n            this._moveLeft();\r\n        }\r\n        if (this.moveRight) {\r\n            this._moveRight();\r\n        }\r\n    },\r\n});\r\n"]}