{"version":3,"sources":["main.js"],"names":["utilities","require","displayCorrect","cc","Class","extends","Component","properties","userNameBox","EditBox","userNameMessage","Node","emailBox","emailMessage","passWordBox","passWordMessage","confirmBox","confirmMessage","signUpButton","Button","congratulation","congratulationLabel","RichText","list","listContent","listPrefab","Prefab","_checkingUserName","_checkingEmail","_checkingPassWord","_checkingConfirm","_userNameList","onUserNameInputBegan","parent","active","onUserNameInputEnded","onEmailInputBegan","onEmailInputEnded","onPassWordInputBegan","onPassWordInputEnded","onConfirmInputBegan","onConfirmInputEnded","_checkUserName","checkStringLength","string","displayError","userNameCheck","checkUserNameAvailable","_checkEmail","emailCheck","_checkPassWord","passWordCheck","_checkConfirm","_appendAccountDetails","account","instantiate","addChild","label","getComponent","_reset","onClickSignUpButton","push","generateRainbowText","onClickReturn","onClickAccountDetails","onLoad","node","on","start","update","dt","interactable"],"mappings":"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","file":"main.js","sourceRoot":"../../../../../assets/Registration-form/script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nvar utilities = require('utils');\nconst { displayCorrect } = require('../../Script/utils');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        userNameBox: cc.EditBox,\n        userNameMessage: cc.Node,\n        emailBox: cc.EditBox,\n        emailMessage: cc.Node,\n        passWordBox: cc.EditBox,\n        passWordMessage: cc.Node,\n        confirmBox: cc.EditBox,\n        confirmMessage: cc.Node,\n        signUpButton: cc.Button,\n        congratulation: cc.Node,\n        congratulationLabel: cc.RichText,\n        list: cc.Node,\n        listContent: cc.Node,\n        listPrefab: cc.Prefab,\n        _checkingUserName: null,\n        _checkingEmail: null,\n        _checkingPassWord: null,\n        _checkingConfirm: null,\n        _userNameList: [],\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onUserNameInputBegan: function () {\n        this.userNameMessage.parent.active = false;\n        this._checkingUserName = false;\n    },\n\n    onUserNameInputEnded: function () {\n        this._checkingUserName = true;\n    },\n\n    onEmailInputBegan: function () {\n        this.emailMessage.parent.active = false;\n        this._checkingEmail = false;\n    },\n\n    onEmailInputEnded: function () {\n        this._checkingEmail = true;\n    },\n\n    onPassWordInputBegan: function () {\n        this.passWordMessage.parent.active = false;\n        this._checkingPassWord = false;\n    },\n\n    onPassWordInputEnded: function () {\n        this._checkingPassWord = true;\n    },\n\n    onConfirmInputBegan: function () {\n        this.confirmMessage.parent.active = false;\n        this._checkingConfirm = false;\n    },\n\n    onConfirmInputEnded: function () {\n        this._checkingConfirm = true;\n    },\n\n    _checkUserName: function () {\n        if (!this._checkingUserName) return;\n        if (!utilities.checkStringLength(this.userNameBox.string, 6)) {\n            utilities.displayError(this.userNameMessage, '//Username must have atleast 6 characters');\n            return false;\n        }\n\n        if (!utilities.userNameCheck(this.userNameBox.string)) {\n            utilities.displayError(this.userNameMessage, '//Username must not contain special characters');\n            return false;\n        }\n\n        if (!utilities.checkUserNameAvailable(this.userNameBox.string, this._userNameList)) {\n            utilities.displayError(this.userNameMessage, '//This username is already taken');\n            return false;\n        }\n\n        utilities.displayCorrect(this.userNameMessage, '//This username can be used');\n        return true;\n    },\n\n    _checkEmail: function () {\n        if (!this._checkingEmail) return;\n        if (!utilities.emailCheck(this.emailBox.string)) {\n            utilities.displayError(this.emailMessage, '//Please input correct email format');\n            return false;\n        }\n\n        utilities.displayCorrect(this.emailMessage, '//This email can be used');\n        return true;\n    },\n\n    _checkPassWord: function () {\n        if (!this._checkingPassWord) return;\n        if (!utilities.checkStringLength(this.passWordBox.string, 8)) {\n            utilities.displayError(this.passWordMessage, '//Password must have atleast 8 characters');\n            return false;\n        }\n\n        if (!utilities.passWordCheck(this.passWordBox.string)) {\n            utilities.displayError(this.passWordMessage, '//Password must have atleast 1 uppercase and 1 lowercase');\n            return false;\n        }\n\n        utilities.displayCorrect(this.passWordMessage, '//This password can be used');\n        return true;\n    },\n\n    _checkConfirm: function () {\n        if (!this._checkingConfirm) return;\n        if (this.passWordBox.string !== this.confirmBox.string) {\n            utilities.displayError(this.confirmMessage, '//The passwords dont match');\n            return false;\n        }\n\n        utilities.displayCorrect(this.confirmMessage, '//The passwords are matched !!!');\n        return true;\n    },\n\n    _appendAccountDetails: function () {\n        let account = cc.instantiate(this.listPrefab);\n        this.listContent.addChild(account);\n        let label = account.getComponent('cc.Label');\n        label.string = this.userNameBox.string + ':' + this.emailBox.string + ':' + this.passWordBox.string;\n        return;\n    },\n\n    _reset: function () {\n        this.userNameBox.string = '';\n        this.passWordBox.string = '';\n        this.emailBox.string = '';\n        this.confirmBox.string = '';\n        this._checkingUserName = null;\n        this._checkingEmail = null;\n        this._checkingPassWord = null;\n        this._checkingConfirm = null;\n        this.userNameMessage.parent.active = false;\n        this.emailMessage.parent.active = false;\n        this.passWordMessage.parent.active = false;\n        this.confirmMessage.parent.active = false;\n    },\n\n    onClickSignUpButton: function () {\n        this._userNameList.push(this.userNameBox.string + ':' + this.emailBox.string + ':' + this.passWordBox.string);\n        this.congratulation.active = true;\n        this.congratulationLabel.string = utilities.generateRainbowText(this.userNameBox.string);\n        this._appendAccountDetails();\n        this._reset();\n    },\n\n    onClickReturn: function () {\n        this.congratulation.active = false;\n    },\n\n    onClickAccountDetails() {\n        if (!this.list.active) {\n            this.list.active = true;\n            return;\n        }\n        this.list.active = false;\n        return;\n    },\n\n    onLoad() {\n        this.signUpButton.node.on('click', this.onClickSignUpButton, this);\n    },\n\n    start() {\n\n    },\n\n    update(dt) {\n        if (!this._checkUserName() || !this._checkEmail() || !this._checkPassWord() || !this._checkConfirm()) {\n            this.signUpButton.interactable = false;\n            return;\n        }\n        this.signUpButton.interactable = true;\n    },\n});\n"]}