{"version":3,"sources":["main.js"],"names":["utilities","require","displayCorrect","cc","Class","extends","Component","properties","userNameBox","EditBox","userNameMessage","Node","emailBox","emailMessage","passWordBox","passWordMessage","confirmBox","confirmMessage","signUpButton","Button","congratulation","congratulationLabel","RichText","list","listContent","listPrefab","Prefab","_checkingUserName","_checkingEmail","_checkingPassWord","_checkingConfirm","_userNameList","_prefabScript","onUserNameInputBegan","parent","active","onUserNameInputEnded","onEmailInputBegan","onEmailInputEnded","onPassWordInputBegan","onPassWordInputEnded","onConfirmInputBegan","onConfirmInputEnded","_checkUserName","checkStringLength","string","displayError","userNameCheck","checkUserNameAvailable","_checkEmail","emailCheck","_checkPassWord","passWordCheck","_checkConfirm","_appendAccountDetails","account","instantiate","addChild","label","getComponent","_reset","onClickSignUpButton","push","generateRainbowText","onClickReturn","onClickAccountDetails","onLoad","node","on","start","update","dt","interactable"],"mappings":"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","file":"main.js","sourceRoot":"../../../../../assets/Registration-form/script","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\nvar utilities = require('utils');\nconst { displayCorrect } = require('../../Script/utils');\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        userNameBox: cc.EditBox,\n        userNameMessage: cc.Node,\n        emailBox: cc.EditBox,\n        emailMessage: cc.Node,\n        passWordBox: cc.EditBox,\n        passWordMessage: cc.Node,\n        confirmBox: cc.EditBox,\n        confirmMessage: cc.Node,\n        signUpButton: cc.Button,\n        congratulation: cc.Node,\n        congratulationLabel: cc.RichText,\n        list: cc.Node,\n        listContent: cc.Node,\n        listPrefab: cc.Prefab,\n        _checkingUserName: null,\n        _checkingEmail: null,\n        _checkingPassWord: null,\n        _checkingConfirm: null,\n        _userNameList: [],\n        _prefabScript: null,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onUserNameInputBegan: function () {\n        this.userNameMessage.parent.active = false;\n        this._checkingUserName = false;\n    },\n\n    onUserNameInputEnded: function () {\n        this._checkingUserName = true;\n    },\n\n    onEmailInputBegan: function () {\n        this.emailMessage.parent.active = false;\n        this._checkingEmail = false;\n    },\n\n    onEmailInputEnded: function () {\n        this._checkingEmail = true;\n    },\n\n    onPassWordInputBegan: function () {\n        this.passWordMessage.parent.active = false;\n        this._checkingPassWord = false;\n    },\n\n    onPassWordInputEnded: function () {\n        this._checkingPassWord = true;\n    },\n\n    onConfirmInputBegan: function () {\n        this.confirmMessage.parent.active = false;\n        this._checkingConfirm = false;\n    },\n\n    onConfirmInputEnded: function () {\n        this._checkingConfirm = true;\n    },\n\n    _checkUserName: function () {\n        if (!this._checkingUserName) return;\n        if (!utilities.checkStringLength(this.userNameBox.string, 6)) {\n            utilities.displayError(this.userNameMessage, '//Username must have atleast 6 characters');\n            return false;\n        }\n\n        if (!utilities.userNameCheck(this.userNameBox.string)) {\n            utilities.displayError(this.userNameMessage, '//Username must not contain special characters');\n            return false;\n        }\n\n        if (!utilities.checkUserNameAvailable(this.userNameBox.string, this._userNameList)) {\n            utilities.displayError(this.userNameMessage, '//This username is already taken');\n            return false;\n        }\n\n        utilities.displayCorrect(this.userNameMessage, '//This username can be used');\n        return true;\n    },\n\n    _checkEmail: function () {\n        if (!this._checkingEmail) return;\n        if (!utilities.emailCheck(this.emailBox.string)) {\n            utilities.displayError(this.emailMessage, '//Please input correct email format');\n            return false;\n        }\n\n        utilities.displayCorrect(this.emailMessage, '//This email can be used');\n        return true;\n    },\n\n    _checkPassWord: function () {\n        if (!this._checkingPassWord) return;\n        if (!utilities.checkStringLength(this.passWordBox.string, 8)) {\n            utilities.displayError(this.passWordMessage, '//Password must have atleast 8 characters');\n            return false;\n        }\n\n        if (!utilities.passWordCheck(this.passWordBox.string)) {\n            utilities.displayError(this.passWordMessage, '//Password must have atleast 1 uppercase and 1 lowercase');\n            return false;\n        }\n\n        utilities.displayCorrect(this.passWordMessage, '//This password can be used');\n        return true;\n    },\n\n    _checkConfirm: function () {\n        if (!this._checkingConfirm) return;\n        if (this.passWordBox.string !== this.confirmBox.string) {\n            utilities.displayError(this.confirmMessage, '//The passwords dont match');\n            return false;\n        }\n\n        utilities.displayCorrect(this.confirmMessage, '//The passwords are matched !!!');\n        return true;\n    },\n\n    _appendAccountDetails: function () {\n        let account = cc.instantiate(this.listPrefab);\n        this.listContent.addChild(account);\n        let label = account.getComponent('cc.Label');\n        label.string = this.userNameBox.string + ':' + this.emailBox.string + ':' + this.passWordBox.string;\n        return;\n    },\n\n    _reset: function () {\n        this.userNameBox.string = '';\n        this.passWordBox.string = '';\n        this.emailBox.string = '';\n        this.confirmBox.string = '';\n        this._checkingUserName = null;\n        this._checkingEmail = null;\n        this._checkingPassWord = null;\n        this._checkingConfirm = null;\n        this.userNameMessage.parent.active = false;\n        this.emailMessage.parent.active = false;\n        this.passWordMessage.parent.active = false;\n        this.confirmMessage.parent.active = false;\n    },\n\n    onClickSignUpButton: function () {\n        this._userNameList.push(this.userNameBox.string + ':' + this.emailBox.string + ':' + this.passWordBox.string);\n        this.congratulation.active = true;\n        this.congratulationLabel.string = utilities.generateRainbowText(this.userNameBox.string);\n        // this._prefabScript = this.getComponent('accountLabelPrefab')\n        // this._prefabScript._addList(this.userNameBox.string, this.emailBox.string, this.passWordBox.string, this.listContent);\n        this._appendAccountDetails();\n        this._reset();\n    },\n\n    onClickReturn: function () {\n        this.congratulation.active = false;\n    },\n\n    onClickAccountDetails() {\n        if (!this.list.active) {\n            this.list.active = true;\n            return;\n        }\n        this.list.active = false;\n        return;\n    },\n\n    onLoad() {\n        this.signUpButton.node.on('click', this.onClickSignUpButton, this);\n    },\n\n    start() {\n\n    },\n\n    update(dt) {\n        if (!this._checkUserName() || !this._checkEmail() || !this._checkPassWord() || !this._checkConfirm()) {\n            this.signUpButton.interactable = false;\n            return;\n        }\n        this.signUpButton.interactable = true;\n    },\n});\n"]}